<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .test-result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</h1>
        
        <div class="info">
            <strong>–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:</strong>
            <ul>
                <li>–£–±—Ä–∞–Ω–∞ –æ—à–∏–±–∫–∞ "Cannot read properties of null (reading 'appendChild')"</li>
                <li>–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ª—é–±–æ–≥–æ –¥–Ω—è –±–µ–∑ —É—Å–ª–æ–≤–∏–π</li>
                <li>–£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</li>
                <li>–£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è "–ü—Ä–∏—Ö–æ–¥", "–£—Ö–æ–¥", "–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ" –∏–∑ HTML</li>
            </ul>
        </div>
        
        <div class="test-section">
            <h2>–¢–µ—Å—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ê–ü00-00229</h2>
            <button onclick="testEmployeeData()">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ</button>
            <div id="test-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</h2>
            <ol>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://madlen.space" target="_blank">https://madlen.space</a></li>
                <li>–í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –ª–æ–≥–∏–Ω–æ–º <strong>–ê–ü00-00229</strong></li>
                <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å"</li>
                <li>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ <strong>–ª—é–±–æ–π –¥–µ–Ω—å</strong> –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–º–∞–π 2025)</li>
                <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:</li>
                <ul>
                    <li>‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏</li>
                    <li>‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –¥–Ω—è</li>
                    <li>‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –≥—Ä–∞—Ñ–∏–∫ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã" —Å –ø–ª–∞–Ω–æ–≤—ã–º –≤—Ä–µ–º–µ–Ω–µ–º</li>
                    <li>‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è"</li>
                    <li>‚úÖ –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã"</li>
                </ul>
            </ol>
        </div>
        
        <div class="test-section">
            <h2>–û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>
            <div class="info">
                <p><strong>28 –º–∞—è:</strong> –î–µ–Ω—å —Å –≥—Ä–∞—Ñ–∏–∫–æ–º 09:00-22:00 –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–∏—Ö–æ–¥–æ–º 14:44 (–æ–ø–æ–∑–¥–∞–Ω–∏–µ)</p>
                <p><strong>16 –º–∞—è:</strong> –î–µ–Ω—å —Å –≥—Ä–∞—Ñ–∏–∫–æ–º 09:00-22:00 –Ω–æ —Å—Ç–∞—Ç—É—Å "absent" (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ)</p>
                <p><strong>–í—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏:</strong> –î–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "–í—ã—Ö–æ–¥–Ω–æ–π" —Å—Ç–∞—Ç—É—Å</p>
                <p><strong>–ë—É–¥—É—â–∏–µ –¥–Ω–∏:</strong> –î–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≥—Ä–∞—Ñ–∏–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)</p>
            </div>
        </div>
    </div>

    <script>
        async function testEmployeeData() {
            const result = document.getElementById('test-result');
            result.innerHTML = '<div style="color: blue;">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>';
            
            try {
                const response = await fetch('https://madlen.space/api/employee/by-number/–ê–ü00-00229/timesheet/2025/5');
                const data = await response.json();
                
                if (response.ok) {
                    const day28 = data.calendar.find(day => day.day === 28);
                    const day16 = data.calendar.find(day => day.day === 16);
                    const weekendDay = data.calendar.find(day => day.status === 'weekend');
                    const workDays = data.calendar.filter(day => day.scheduleStartTime);
                    
                    let resultHTML = '<div class="success"><strong>‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ</strong></div>';
                    
                    if (day28) {
                        resultHTML += `
                            <div class="info">
                                <strong>28 –º–∞—è (—Ç–µ—Å—Ç–æ–≤—ã–π –¥–µ–Ω—å):</strong><br>
                                –°—Ç–∞—Ç—É—Å: ${day28.status}<br>
                                –ì—Ä–∞—Ñ–∏–∫: ${day28.scheduleStartTime?.substring(0,5)}-${day28.scheduleEndTime?.substring(0,5)} (${day28.scheduleHours}—á)<br>
                                –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏—Ö–æ–¥: ${day28.checkIn ? new Date(day28.checkIn).toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'}) : '–Ω–µ—Ç'}<br>
                                –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —É—Ö–æ–¥: ${day28.checkOut ? new Date(day28.checkOut).toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'}) : '–Ω–µ—Ç'}
                            </div>
                        `;
                    }
                    
                    if (day16) {
                        resultHTML += `
                            <div class="info">
                                <strong>16 –º–∞—è (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å –≥—Ä–∞—Ñ–∏–∫–æ–º):</strong><br>
                                –°—Ç–∞—Ç—É—Å: ${day16.status}<br>
                                –ì—Ä–∞—Ñ–∏–∫: ${day16.scheduleStartTime?.substring(0,5)}-${day16.scheduleEndTime?.substring(0,5)} (${day16.scheduleHours}—á)<br>
                                –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ: –Ω–µ—Ç
                            </div>
                        `;
                    }
                    
                    resultHTML += `
                        <div class="info">
                            <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong><br>
                            –î–Ω–µ–π —Å –≥—Ä–∞—Ñ–∏–∫–æ–º —Ä–∞–±–æ—Ç—ã: ${workDays.length}<br>
                            –í—ã—Ö–æ–¥–Ω—ã—Ö –¥–Ω–µ–π: ${data.calendar.filter(day => day.status === 'weekend').length}<br>
                            –í—Å–µ–≥–æ –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ: ${data.calendar.length}
                        </div>
                    `;
                    
                    result.innerHTML = resultHTML;
                    
                } else {
                    result.innerHTML = `<div class="error">‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${response.status}</div>`;
                }
            } catch (error) {
                result.innerHTML = `<div class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }
    </script>
</body>
</html>